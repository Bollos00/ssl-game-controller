<template>
    <div>
        <h2>{{teamColor}} Team
            <span v-b-tooltip.hover
                  title="Team connected"
                  v-if="teamConnected">
                <font-awesome-icon
                        class="fa-xs"
                        icon="signal"/>
            </span>
            <span v-b-tooltip.hover
                  title="connection verified"
                  v-if="teamConnectionVerified">
                <font-awesome-icon
                        class="fa-xs"
                        icon="shield-alt"/>
            </span>
        </h2>
        <div class="content">
            <div>
                <TeamGoalkeeper
                        :team-color="teamColor"
                        :goalkeeper="team.goalkeeper"/>
            </div>
            <div>
                <TeamTimeouts
                        :team-color="teamColor"
                        :timeouts-left="team.timeoutsLeft"
                        :timeout-time-left="team.timeoutTimeLeft"/>
            </div>
            <div>
                <TeamRedCards
                        :team-color="teamColor"
                        :red-cards="team.redCards"/>
            </div>
            <div>
                <TeamYellowCards
                        :team-color="teamColor"
                        :yellow-cards="team.yellowCards"
                        :yellow-card-times="team.yellowCardTimes"/>
            </div>
            <div>
                <TeamCounters
                        :team-color="teamColor"/>
            </div>
            <div>
                <TeamBotSubstitution
                        :team-color="teamColor"/>
            </div>
            <div>
                At most <b>{{maxAllowedBots}}</b> bots allowed on the field.
            </div>
        </div>
    </div>
</template>

<script>
    import TeamTimeouts from "./TeamTimeouts";
    import TeamGoalkeeper from "./TeamGoalkeeper";
    import EditableLabelText from "../common/EditableLabelText";
    import TeamYellowCards from "./TeamYellowCards";
    import TeamRedCards from "./TeamRedCards";
    import TeamCounters from "./TeamCounters";
    import TeamBotSubstitution from "./TeamBotSubstitution";

    export default {
        name: "TeamOverview",
        components: {
            TeamBotSubstitution,
            TeamCounters,
            TeamRedCards,
            TeamYellowCards,
            EditableLabelText,
            TeamGoalkeeper,
            TeamTimeouts,
        },
        props: {
            teamColor: String
        },
        computed: {
            team() {
                return this.$store.state.refBoxState.teamState[this.teamColor]
            },
            maxAllowedBots() {
                return this.team.maxAllowedBots;
            },
            teamConnected() {
                return this.$store.state.engineState.teamConnected[this.teamColor]
            },
            teamConnectionVerified() {
                return this.$store.state.engineState.teamConnectionVerified[this.teamColor]
            }
        }
    }
</script>

<style scoped>
    .content {
        text-align: left;
    }
</style>
